$display: (
  light:#666,
  dark:#FFF
);

$article: (
  light:#FFF,
  dark:#323232
);

$sidebar: (
  light: #F2F2F2,
  dark: #3E3E3E
);

$textColor: (
  light:#323232,
  dark:#DEDEDE
);

// themeColor:
/* 
#FF6347(tomato)  
#FF00FF(violet) 
#00BFFF(sky) 
#00CD66(grass)
#FF8C00(orange)
*/

$themeColor:#FF6347;

//focusColor
/* 
#00CD66--green
00BFFF--blue
FF00FF--violet 
*/


$focusColor:#00BFFF;

$font-family:"Microsoft YaHei", "PingFang SC", "Arial", "sans-serif";

:root {
--bg-color: map-get($article, dark);
--select-text-bg-color: #666;
--text-color:map-get($textColor,dark);
--primary-color: $themeColor;
--rawblock-edit-panel-bd: map-get($sidebar, dark);
--item-hover-bg-color: $themeColor;
--control-text-hover-color: $themeColor;
}

//scrollbar style
::-webkit-scrollbar-thumb {
  background: $themeColor;
  &:active{
      background: $focusColor;
  }
}

#typora-sidebar:hover div.sidebar-content-content::-webkit-scrollbar-thumb:horizontal {
  background: rgba(230, 230, 230, 0.3);
}

.typora-node::-webkit-scrollbar {
  width: 5px;
}

.typora-node::-webkit-scrollbar-thumb:vertical {
  background: rgba(250, 250, 250, 0.3);
  &:active{
      background: rgba(250, 250, 250, 0.5);
  }
}

html {
  font-size: 16px;
  -webkit-font-smoothing: antialiased;
}

body {
  -webkit-text-size-adjust: 100%;
  -ms-text-size-adjust: 100%;
  font-family: $font-family;
  color: map-get($textColor, dark);
  line-height: 1.6;
  background-color: map-get($article, dark );
  caret-color: $themeColor;
}

//page width
/* #write {
  max-width: 914px;
} 
*/

//header style
@mixin header-common{
  margin-top: 1rem;
  margin-bottom: 1rem;
  line-height: 1.4;
  cursor: text;
  font-family: $font-family;
}

h1 {
  font-size: 2rem;
  font-weight: 2000;
  font-family: $font-family;
  line-height: 1.2;
  text-align: center;
}

h2 {
  font-size: 1.8rem;
  font-weight: 1000;
  line-height: 1.2;
  padding-left: .5rem;
  border-left: 8px solid $themeColor;
  border-radius: 6px;
  @include header-common();
}

#write>h2.md-focus {
  border-left-color: $focusColor;
  transition:border-left-color .5s linear;
}

h3 {
  font-size: 1.6rem;
  font-weight: 700;
  @include header-common();
  &::after{
      content:'';
      display: block;
      width:5rem;
      height:.3rem;
      background-color: $themeColor;
      border-radius: .5rem;
  }
}

#write>h3.md-focus::after {
  content:'';
  display: block;
  width:5rem;
  height:.3rem;
  background-color: $focusColor;
  border-radius: .5rem;
  transition:background-color .5s linear;
}

h4 {
  font-size: 1.4rem;
  font-weight: 500;
  line-height: 1.43;
  border-bottom: 1px dashed $themeColor;
  @include header-common();
}

#write>h4.md-focus {
  border-bottom-color: $focusColor;
  transition:border-bottom-color .5s linear;
}

h5 {
  color: $themeColor;
  font-weight: 300;
  font-size: 1.2rem;
  @include header-common();
  &:hover{
      animation: bounce 2s infinite;
  }
}

@keyframes bounce{
  0%,100%,20%,50%,80%{
      transform: translateY(0);
  }
  40%{
      transform: translateY(-1rem);
  }
  60%{
      transform:translateY(-1rem)
  }
}

#write>h5.md-focus:before {
  width: auto;
  height: auto;
  background-color: $focusColor;
  color: #ffffff;
}

sup.md-footnote {
  background-color: map-get($sidebar,dark );
  color: $themeColor;
}

p {
  -ms-word-wrap: break-word;
  word-wrap: break-word;
}

p.md-focus>span.md-plain.md-expand {
  border-bottom: 2px dashed $focusColor;
  color: $focusColor;
}

a {
  color: map-get($textColor, dark);
  text-decoration: none;
  border-bottom: 2px solid $themeColor;
}

/* badge */
@mixin badge-common{
  margin-left: .2em;
  padding: 0 .5em;
  color: white;
  border-radius: 5%;
}

span[alt="black"] {
  @include badge-common();
  background-image: linear-gradient(to right, #434343 0%, black 100%);
}

span[alt="blue"] {
  @include badge-common();
  background-image: linear-gradient(to right, #00c6fb 0%, #005bea 100%);
}

span[alt="orange"] {
  @include badge-common();
  background-image: linear-gradient(-60deg, #ff5858 0%, #f09819 100%);
}

span[alt="purple"] {
  @include badge-common();
  background-image: linear-gradient(to right, #ec77ab 0%, #7873f5 100%);
}

p,
blockquote,
ul,
ol,
dl,
table {
  margin: 0.8em 0;
}

li>ol,
li>ul {
  margin: 0 0;
}

hr {
  margin: 16px 0;
  border-top: 2px dashed $themeColor;
}

li p.first {
  display: inline-block;
}

ul,
ol {
  padding-left: 30px;
}

ul:first-child,
ol:first-child {
  margin-top: 0;
}

ul:last-child,
ol:last-child {
  margin-bottom: 0;
}

li::marker {
  color: $themeColor;
}

// blockquote style , default single color

@mixin blockquote-common {
  text-indent: 0em;
  line-height: inherit;
  min-height: 1.5rem;
  margin: 1em 0;
  padding: 12px 0 8px 10px;
  border-radius:6px;
  border-left: 8px solid transparent;
  background-clip: padding-box, border-box;
  background-origin: padding-box, border-box;
  overflow: hidden;
}

@mixin blockquote-img {
  position: relative;
  transform: translateX(-80px);
  height: 1rem;
  margin-right: .2rem;
}

@mixin blockquote-alt {
  border: 8px solid transparent;
  border-radius: 6px;
  background-clip: padding-box, border-box;
  background-origin: padding-box, border-box;
  color: white;
}

@mixin blockquote-alt-img {
  position: relative;
  transform: translateX(-3px);
  vertical-align: middle;
  height: 1rem;
  margin-right: .2rem;
  overflow: hidden;
}

blockquote {
  @include blockquote-common();    
  color: $themeColor;
  background-image: linear-gradient(to right, map-get($sidebar,dark ),map-get($sidebar,dark )), linear-gradient(0deg,$themeColor 0%,$themeColor 100%);
  color: #00CD66;
  img {
      @include blockquote-img();
      filter: drop-shadow($themeColor 80px 0);
  }
}

h2+blockquote,blockquote[alt="green"]{
  @include blockquote-common();
  background-image: linear-gradient(to right, map-get($sidebar,dark ),map-get($sidebar,dark )), linear-gradient(0deg,#00e3ae 0%,#9be15d 100%);
  color: #00CD66;
  //change svg color
  img {
      @include blockquote-img();
      filter: drop-shadow(#00CD66 80px 0);
      
  }
}

h3+blockquote,blockquote[alt="blue"]{
  @include blockquote-common();
  background-image: linear-gradient(to right, map-get($sidebar,dark ),map-get($sidebar,dark )), linear-gradient(0deg,#4facfe 0%, #00f2fe 100%);
  color: #00BFFF;
  img {
      @include blockquote-img();
      filter: drop-shadow(#00BFFF 80px 0);
  }
}

h4+blockquote,blockquote[alt="orange"]{
  @include blockquote-common();
  background-image: linear-gradient(to right, map-get($sidebar,dark ),map-get($sidebar,dark )),  linear-gradient(0deg, #fc6076, #ff9a44);
  color: #FF8C00;
  img {
      @include blockquote-img();
      filter: drop-shadow(#FF8C00 80px 0);
  }
}

h5+blockquote,blockquote[alt="purple"]{
  @include blockquote-common();
  background-image: linear-gradient(to right, map-get($sidebar,dark ),map-get($sidebar,dark )), linear-gradient(0deg, #8F41E9, #578AEF);
  color:#8F41E9;
  img {
      @include blockquote-img();
      filter: drop-shadow(#A531DC 80px 0);
  }
}

blockquote[alt="black-alt"]{
  @include blockquote_alt(); 
  background-image: linear-gradient(to right, #596164, #868f96), linear-gradient(90deg, #596164, #868f96); 
  img {
      @include blockquote_alt_img();
  }
}

blockquote[alt="orange-alt"]{
  @include blockquote_alt(); 
  background-image: linear-gradient(to right, #fc6076, #ff9a44), linear-gradient(90deg, #fc6076, #ff9a44); 
  img {
      @include blockquote_alt_img();
  }
}

blockquote[alt="blue-alt"]{
  @include blockquote_alt(); 
  background-image: linear-gradient(to right, #4481eb, #04befe), linear-gradient(90deg, #4481eb, #04befe); 
  img {
      @include blockquote_alt_img();
  }
}

blockquote[alt="purple-alt"]{
  @include blockquote_alt(); 
  background-image: linear-gradient(to right, #8F41E9, #578AEF), linear-gradient(90deg, #8F41E9, #578AEF); 
  img {
      @include blockquote_alt_img();
  }
}

blockquote[alt="green-alt"]{
  @include blockquote_alt(); 
  background-image: linear-gradient(to right, #0ba360, #8ed451), linear-gradient(90deg, #0ba360, #8ed451); 
  img {
      @include blockquote_alt_img();
  }
}

table {
  border-collapse: collapse;
  margin: 0 auto;
  padding: 0;
  word-break: initial;

  td {
      font-weight: normal;
      text-align: left;

      &::selection {
          background-color: map-get($article, dark );
          color: map-get($display, dark );
      }
  }
}

thead,
th,
td {
  border: 1px solid $themeColor;
}

th,
td {
  padding: .6em;
  font-family: $font-family;
}

table th {
  color: $themeColor;
  text-align: center;
}

mark {
  background-color: $focusColor;
  color: map-get($sidebar,dark );
}

/* -----------------------editor------------------------ */
::-moz-selection {
  background: $themeColor;
  color: #fff;
  text-shadow: none;
}

*.in-text-selection,
::selection {
  background: $themeColor;
  color: #fff;
  text-shadow: none;
}

#top-titlebar,
#top-titlebar * {
  color: map-get($display, dark );
}

/* ymal */
#write pre.md-meta-block {
  color: map-get($textColor, dark);
  padding: 1em;
  line-height: 1.6em;
  background: map-get($sidebar,dark );
  border: 5%;
}

/* code and code block */
code {
  padding: .3rem;
  margin-right: .4em;
  color: $themeColor;
  border-radius: 4px;
  background-color: map-get($sidebar,dark );
}

kbd {
  padding: .3rem;
  margin-right: .4em;
  color: $themeColor;
  border-radius: 4px;
  border: none;
  box-shadow: 0 0 3px 0 $themeColor;
  background-color: map-get($article, dark );
}

em {
  font-style: normal;
  border-bottom: 4px dotted $focusColor;
}

u {
  text-decoration-style: solid;
  text-decoration-line: underline;
  text-decoration-color: $focusColor;
}

pre.md-fences {
  padding: 10px 10px 10px 30px;
  margin-bottom: 20px;
  /* Just use for ubuntu*/
  background-color:map-get($sidebar,dark );
}

#ty-tooltip {
  background-color: map-get($article, dark );
  color: map-get($textColor, dark);
}

/* task list */
.task-list {
  padding-left: 0;
}

.md-task-list-item>input {
  margin-left: -1.3em;
  margin-top: 0.3rem;
  appearance: none;
  -webkit-appearance: none;
  -moz-appearance: none;
}

.md-task-list-item>input::after {
  content: '';
  position: absolute;
  top: 0;
  display: inline-block;
  width: 1rem;
  height: 1rem;
  padding-left: 0px;
  color: #fff;
  text-align: center;
  border: 1px solid $themeColor;
}

.md-task-list-item>input:checked::after {
  content: 'âœ“';
  font-size: 12px;
  background-color: $themeColor;
  border-radius: 2px;
}

/* sidebar */
#typora-sidebar {
  box-shadow: none;
  border-right: none;
  background-color: map-get($sidebar,dark );
}

.sidebar-tabs {
  border-bottom: 0;
}

#typora-sidebar:hover .outline-title-wrapper {
  border-left: 1px dashed;
}

.active-tab-files #info-panel-tab-file,
.active-tab-files #info-panel-tab-file:hover,
.active-tab-outline #info-panel-tab-outline,
.active-tab-outline #info-panel-tab-outline:hover {
  color: map-get($display, dark );
}

/* outline */
.outline-title-wrapper .btn {
  color: inherit;
}

.outline-item:hover {
  border-color: $themeColor;
  background-color: $themeColor;
  color: white;
}

/* user config  background */
.megamenu-content,
.megamenu-opened header {
  background: map-get($article, dark );
}

/* bottom-word-count */
.typora-sourceview-on #toggle-sourceview-btn,
#footer-word-count:hover,
.ty-show-word-count #footer-word-count {
  background: map-get($sidebar,dark );
}

#toggle-sourceview-btn:hover {
  color: map-get($textColor, dark);
  background: map-get($sidebar,dark );
}

/* focus mode */
.on-focus-mode .md-end-block:not(.md-focus):not(.md-focus-container) * {
  color: #686868 !important;
}

.on-focus-mode .md-end-block:not(.md-focus) img,
.on-focus-mode .md-task-list-item:not(.md-focus-container)>input {
  opacity: #686868 !important;
}

.on-focus-mode li[cid]:not(.md-focus-container) {
  color: #686868;
}

.on-focus-mode .md-fences.md-focus .CodeMirror-code>*:not(.CodeMirror-activeline) *,
.on-focus-mode .CodeMirror.cm-s-inner:not(.CodeMirror-focused) * {
  color: #686868 !important;
}

.on-focus-mode .md-focus,
.on-focus-mode .md-focus-container {
  color: #fff;
}

.on-focus-mode #typora-source .CodeMirror-code>*:not(.CodeMirror-activeline) * {
  color: #686868 !important;
}

/* user config menu */
.megamenu-content,
.megamenu-opened header {
  background: map-get($sidebar,dark );
}

.megamenu-menu-panel h2,
.megamenu-menu-panel h1,
.long-btn {
  color: inherit;
}

.megamenu-menu-panel input[type='text'] {
  background: inherit;
  border: 0;
  border-bottom: 1px solid;
}

#recent-file-panel-action-btn {
  background: inherit;
  border: 1px grey solid;
}

.megamenu-menu-panel table td:nth-child(1) {
  color: inherit;
  font-weight: bold;
}

.megamenu-menu-panel tbody tr:hover td:nth-child(1) {
  background-color: $themeColor;
}

.megamenu-menu {
  background-color: map-get($article, dark );
}

#megamenu-menu-list>li>a {
  border: none;
  color: map-get($textColor, dark);
}

.megamenu-menu-header .megamenu-menu-header-title-menu,
.megamenu-menu-header:focus .megamenu-menu-header-title-back,
.megamenu-menu-header:hover .megamenu-menu-header-title-back {
  display: block;
  color: map-get($textColor, dark);
}

.btn-default:hover,
.btn-default:focus,
.btn-default.focus,
.btn-default:active,
.btn-default.active,
.open>.dropdown-toggle.btn-default {
  color: white;
  border: 1px solid #ddd;
  background-color: inherit;
}

.modal-header {
  border-bottom: 0;
}

.modal-footer {
  border-top: 0;
}

#recent-file-panel tbody tr:nth-child(2n-1) {
  background-color: transparent !important;
}

.megamenu-menu-panel tbody tr:hover td:nth-child(2) {
  background-color: $themeColor;
}

.megamenu-menu-panel .btn {
  border: 1px solid #eee;
  background: transparent;
}

.mouse-hover .toolbar-icon.btn:hover,
#w-full.mouse-hover,
#w-pin.mouse-hover {
  background-color: inherit;
}

/*diagrams*/
#write .md-focus .md-diagram-panel {
  border: 1px solid #ddd;
  margin-left: -1px;
  width: calc(100% + 2px);
}

/*diagrams*/
#write .md-focus.md-fences-with-lineno .md-diagram-panel {
  margin-left: auto;
}

.md-diagram-panel-error {
  color: tomato;
}

.sidebar-footer-item:hover,
.footer-item:hover {
  background: inherit;
  color: map-get($textColor, dark);
}

.ty-side-sort-btn.active,
.ty-side-sort-btn:hover,
.selected-folder-menu-item a:after {
  color: white;
}

#sidebar-files-menu {
  border: solid 1px;
  box-shadow: 4px 4px 20px rgba(0, 0, 0, 0.79);
  background-color: map-get($sidebar,dark );
}

.ty-preferences input[type="search"] {
  border-color: $themeColor;
  background: map-get($sidebar,dark );
  line-height: 22px;
  border-radius: 6px;
  color: map-get($textColor, dark);
}

.ty-preferences input[type="search"]:focus {
  box-shadow: none;
}

.file-list-item {
  border-bottom: none;
}

.file-list-item-summary {
  opacity: 1;
}

.file-list-item.active:first-child {
  border-top: none;
}

.file-node-background {
  height: 32px;
}

.file-library-node.active>.file-node-content,
.file-list-item.active {
  color: var(--active-file-text-color);
}

.file-library-node.active>.file-node-background {
  background-color: map-get($article, dark );
  border-color: $themeColor;
}

.file-list-item.active {
  background-color: #222222;
  background-color: $themeColor;
}

.md-mathjax-midline {
  background-color: #57616b;
  border-bottom: none;
}

footer.ty-footer {
  border-color: #656565;
}

.ty-preferences .btn-default {
  background: transparent;
}

.ty-preferences .btn-default:hover {
  background: map-get($sidebar,dark );
}

.ty-preferences select {
  border: 1px solid #989698;
  height: 21px;
}

.ty-preferences .nav-group-item.active,
.export-item.active,
.export-items-list-control,
.export-detail {
  background: var(--item-hover-bg-color);
}

[data-is-directory="true"] .file-node-content {
  margin-bottom: 0;
}

.file-node-title {
  line-height: 22px;
}

.html-for-mac .file-node-open-state,
.html-for-mac .file-node-icon {
  line-height: 26px;
}

// code_style(dark mode)

.cm-s-inner.CodeMirror {
  background-color: var(--sidebar) !important;
  border: none
}

.cm-s-inner .CodeMirror-gutters {
  color: #404b53;
  border: none
}

.CodeMirror div.CodeMirror-cursor {
  border-left: solid 2px var(--theme-color)
}

.cm-s-inner .CodeMirror-line::selection,
.cm-s-inner .CodeMirror-line::-moz-selection,
.cm-s-inner .CodeMirror-line>span::selection,
.cm-s-inner .CodeMirror-line>span::-moz-selection,
.cm-s-inner .CodeMirror-line>span>span::selection,
.cm-s-inner .CodeMirror-line>span>span::-moz-selection {
  background: rgba(255, 255, 255, 0.1)
}

.cm-s-inner.CodeMirror-focused div.CodeMirror-selected {
  background: rgba(255, 255, 255, 0.1)
}

.cm-s-inner .CodeMirror-linenumber {
  color: #6D8A88
}

.cm-s-inner span.cm-comment {
  color: #7c7c7c
}

.cm-s-inner span.cm-string,
.cm-s-inner span.cm-string-2 {
  color: #a8ff60
}

.cm-s-inner span.cm-number {
  color: #cd3f45
}

.cm-s-inner span.cm-variable {
  color: #55b5db
}

.cm-s-inner span.cm-variable-2 {
  color: #a074c4
}

.cm-s-inner span.cm-def {
  color: #55b5db
}

.cm-s-inner span.cm-keyword {
  color: #ff79c6
}

.cm-s-inner span.cm-operator {
  color: #9fca56
}

.cm-s-inner span.cm-atom {
  color: #cd3f45
}

.cm-s-inner span.cm-meta {
  color: #55b5db
}

.cm-s-inner span.cm-tag {
  color: #55b5db
}

.cm-s-inner span.cm-attribute {
  color: #9fca56
}

.cm-s-inner span.cm-qualifier {
  color: #9fca56
}

.cm-s-inner span.cm-property {
  color: #a074c4
}

.cm-s-inner span.cm-variable-3,
.cm-s-inner span.cm-type {
  color: #9fca56
}

.cm-s-inner span.cm-builtin {
  color: #9fca56
}

.cm-s-inner .CodeMirror-activeline-background {
  background: rgba(255, 255, 255, 0.1)
}

.cm-s-inner .CodeMirror-matchingbracket {
  text-decoration: underline;
  color: white !important
}